angular.module("ionic.wizard",[]).directive("ionWizard",["$rootScope","$timeout",function(n,i){return{restrict:"EA",controller:[function(){var n=[];this.addCondition=function(i){n.push(i)},this.getCondition=function(i){return n[i]},this.checkNextCondition=function(i){return i>n.length-1?!1:n[i].next()},this.checkPreviousCondition=function(i){return i>n.length-1?!1:n[i].prev()}}],link:function(t,o,e,r){var d=0;t.swiperOptions=angular.extend(t.swiperOptions||{},{initialSlide:0,autoHeight:!0,onInit:function(n){t.swiper=n}}),t.$on("wizard:Previous",function(){t.swiper.slidePrev(!0)}),t.$on("wizard:Next",function(){t.swiper.slideNext(!0)}),t.$watch("swiper",function(o){o&&(o.on("onTransitionStart",function(t){i(function(){d=t.activeIndex}),n.$broadcast("wizard:IndexChanged",t.activeIndex,o.slides.length)}),t.$watch(function(){return r.checkNextCondition(d)&&r.checkPreviousCondition(d)},function(){if(t.swiper){var i=r.checkNextCondition(d),o=r.checkPreviousCondition(d);i?t.swiper.unlockSwipeToNext():t.swiper.lockSwipeToNext(),o?t.swiper.unlockSwipeToPrev():t.swiper.lockSwipeToPrev(),n.$broadcast("wizard:NextCondition",i),n.$broadcast("wizard:PreviousCondition",o)}}))})}}}]).directive("ionWizardStep",["$q",function(n){return{restrict:"EA",scope:{nextConditionFn:"&nextCondition",prevConditionFn:"&prevCondition"},require:"^^ionWizard",link:function(n,i,t,o){var e=function(){return angular.isUndefined(t.nextCondition)?!0:n.nextConditionFn()},r=function(){return angular.isUndefined(t.prevCondition)?!0:n.prevConditionFn()},d={next:e,prev:r};o.addCondition(d)}}}]).directive("ionWizardPrevious",["$rootScope",function(n){return{restrict:"EA",scope:{},link:function(i,t,o,e){t.addClass("ng-hide"),t.on("click",function(){n.$broadcast("wizard:Previous")}),i.$on("wizard:IndexChanged",function(n,i){t.toggleClass("ng-hide",0==i)}),i.$on("wizard:PreviousCondition",function(n,i){t.attr("disabled",!i)})}}}]).directive("ionWizardNext",["$rootScope",function(n){return{restrict:"EA",scope:{},link:function(i,t,o,e){t.on("click",function(){n.$broadcast("wizard:Next")}),i.$on("wizard:IndexChanged",function(n,i,o){t.toggleClass("ng-hide",i==o-1)}),i.$on("wizard:NextCondition",function(n,i){t.attr("disabled",!i)})}}}]).directive("ionWizardStart",[function(){return{restrict:"EA",scope:{startFn:"&ionWizardStart",startCondition:"&condition"},link:function(n,i,t){function o(){return angular.isUndefined(t.condition)?!0:n.startCondition()}i.addClass("ng-hide"),i.on("click",function(){n.startFn()}),n.$watch(function(){return o()},function(n){i.attr("disabled",!n)}),n.$on("wizard:IndexChanged",function(n,t,o){i.toggleClass("ng-hide",o-1>t)})}}}]);